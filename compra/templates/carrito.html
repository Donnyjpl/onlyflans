{% extends 'base.html' %}

{% block content %}
<div class="container">
  <h2 class="text-center m-4">Carrito de Compras</h2>
  <ul class="list-group mb-4">
    {% if carrito %}
      {% for item in carrito.carritoflan_set.all %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <span>{{ item.cantidad }} x {{ item.flan.name }}</span>
        <span>${{ item.subtotal }}</span>
      </li>
      {% endfor %}
    {% else %}
      <p>Tu carrito está vacío.</p>
    {% endif %}
  </ul>
  {% if carrito %}
    <p class="text-end fw-bold">Total: ${{ carrito.total }}</p>
    <a href="{% url 'procesar_pago' %}" class="btn btn-success">Proceder al Pago</a>
  {% endif %}
</div>
{% endblock %}
